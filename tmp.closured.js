(function(){function ea(a){var b=Math.sin(a);a=Math.cos(a);return[a,-b,0,0,b,a,0,0,0,0,1,0,0,0,0,1]}function fa(a){var b=Math.sin(a);a=Math.cos(a);return[a,0,-b,0,0,1,0,0,b,0,a,0,0,0,0,1]}function ha(a){var b=Math.sin(a);a=Math.cos(a);return[1,0,0,0,0,a,-b,0,0,b,a,0,0,0,0,1]}function E(a,b,d){var f=[1,0,0,0,0,1,0,0,0,0,1,0,a,b,d,1];f.n=[1,0,0,0,0,1,0,0,0,0,1,0,-a,-b,-d,1];return f}function I(a,b,d){var f=[a,0,0,0,0,b,0,0,0,0,d,0,0,0,0,1];f.n=[1/a,0,0,0,0,1/b,0,0,0,0,1/d,0,0,0,0,1];return f}function Y(a){var b=
ea(a);b.n=ea(-a);return b}function ia(a){var b=ha(a);b.n=ha(-a);return b}function K(a,b){var d,f,e,k=[];for(d=0;d<b.length;d++)k[d]=0;for(d=0;4>d;d++)for(f=0;f<b.length/4;f++)for(e=0;4>e;e++)k[4*f+d]+=a[4*e+d]*b[4*f+e];return k}function ja(a,b){var d=K(a,b);d.n=K(b.n,a.n);return d}function Fa(a){return[a[0],a[4],a[8],0,a[1],a[5],a[9],0,a[2],a[6],a[10],0,0,0,0,1]}function F(a){var b=a.slice();this.c=function(d){d.uM4fv(d.gUL(w,"i"),!1,b)}}function Ga(){this.c=function(a){P=a.n;P.n=a}}function Ha(){this.c=
function(a){ka=a}}function la(a,b){b=a.f.reduce(ja,b);g.uM4fv(g.gUL(w,"mv"),!1,b);g.uM4fv(g.gUL(w,"nm"),!1,Fa(b.n));a.o.map(function(d){d.c(g)});a.c.map(function(d){la(d,b)})}function ma(a,b){b=a.f.reduce(ja,b);a.r&&a.r.map(function(d){d.c(b)});a.c.map(function(d){ma(d,b)})}function Q(a,b,d){var f=d?d:1;this.n=b?b:10;this.c=function(e){var k=Math.sin(2*e*L*f);e=Math.cos(2*e*L*f);return[k,-e,0,0,0,0,1,0,-e,-k,0,0,-k*a,e*a,0,1]}}function na(a,b,d,f){f=f?f:1;for(var e=0;4>e;e++)a.push(f*b[4*d+e])}function oa(a,
b,d){var f,e,k=[],l=[],c=[],m=[],r=1.5*d.n|0,h=2*(r-1)*(b-1),q=g.cB(),y=g.cB(),p=g.cB(),A=g.cB();for(f=0;f<r;f++){var B=f/(r-1);B=d.c(B);for(e=0;e<b;e++){var z=e/(b-1);z=a.c(z);z=K(B,z);na(k,z,3);na(l,z,0,-1);m.push((2*f+e+0)%3?0:1,(2*f+e+1)%3?0:1,(2*f+e+2)%3?0:1,1)}}for(f=0;f<r-1;f++)for(e=0;e<b-1;e++)c.push(f*b+e,f*b+e+1,(f+1)*b+e),c.push(f*b+e+1,(f+1)*b+e+1,(f+1)*b+e);g.bB(34962,q);g.bD(34962,new Float32Array(m),35044);g.bB(34962,p);g.bD(34962,new Float32Array(k),35044);g.bB(34962,y);g.bD(34962,
new Float32Array(l),35044);g.bB(34963,A);g.bD(34963,new Uint16Array(c),35044);this.c=function(t){t.bB(34962,q);t.elVAA(e=t.gAL(w,"g"));t.vAP(e,4,5126,!1,0,0);t.bB(34962,p);t.elVAA(e=t.gAL(w,"v"));t.vAP(e,4,5126,!1,0,0);t.bB(34962,y);t.elVAA(e=t.gAL(w,"N"));t.vAP(e,4,5126,!1,0,0);t.bB(34963,A);t.dEl(4,3*h,5123,0)}}function R(a,b,d,f,e,k){if(0!==d){var l=1===d?S:M,c={f:[Y(3.14*-a/180),E(0,f,0)],o:[],c:[{f:[I(e,f,e)],o:[new F(l),T],c:[]}]};1===d&&S===pa&&96<=k&&c.c.push(Ia);l={f:[Y(3.14*a/180),E(0,f,
0)],o:[],c:[{f:[I(e,f,e)],o:[new F(l),T],c:[]}]};b.c.push(l,c);R(a,l,d-1,f,e,k);R(a,c,d-1,f,e,k)}}function Ja(a){Z.cpy(qa,4096,a.outputBuffer.getChannelData(0));qa+=4096}var w,G,ra,sa;var v=document;var P,ka,L=Math.PI,ta=["uniform mat4 mv,nm,p;attribute vec4 g,v,N;varying vec4 c,n,f;void main(){gl_Position=p*mv*v;n=nm*N;c=g;f=mv*v;}","uniform highp mat4 i;uniform highp vec4 l;varying highp vec4 c,n,f;void main(){gl_FragColor=vec4(i[3].aaa*max(0.,1.-4.*min(c.b,min(c.g,c.r)))+max(i[0].rgb,i[1].rgb*max(0.,dot(normalize(l-f),normalize(n)))+i[2].rgb*pow(max(0.,dot(normalize(-f),reflect(-normalize(l-f),normalize(n)))),i[2].a)),1.);}"],
U=[0,0,0,1],M=[.54,.36,.31,1,.02,.75,.25,1,.54,.36,.31,2,0,0,0,0],pa=[.15,81,.05,1,.02,75,.05,1,0,0,.22,2,0,0,0,0],S=M,ua=null,wa=function(a){ua||=a;var b=240*(a-ua)/6E4;a=innerWidth;var d=innerHeight;a==ra&&d==sa||g.vp(0,0,ra=G.width=a,sa=G.height=d);g.el(2929);g.el(2884);var f={f:[],o:[],c:[]},e={f:[],o:[],c:[]},k=5.5<.1*b?5.5:.1*b,l=1.75<.05*b?1.75:.05*b,c=b/4,m={f:[],o:[],c:[]},r={f:[E(0,0,0)],o:[new F(M),T],c:[]};k={f:[E(0,.75,0),I(l,k,l)],o:[new F(M),va],c:[]};l=.15<.01*b?.15:.01*b;var h=1.75<
.25*b?1.75:.25*b,q=7<Math.floor(c)?7:Math.floor(c);c={f:[Y(L)],o:[],c:[]};S=M;R(17.5,c,q,h,l,q);l={f:[],o:[],c:[]};q=b/3-14;h=1.25<q?1.25:q;0<q&&(S=pa,q=9<Math.floor(q)?9:Math.floor(q),R(17.5,l,q,h,.15,b));m.c.push(r);m.c.push(k);m.c.push(l);m.c.push(c);c={f:[],o:[new F([.1,.1,.2,1,.3,.3,1,1,.1,.1,.1,2,0,0,0,0]),Ka],c:[]};r=f.c;k=r.push;c={f:[I(3,3,3)],o:[],c:[c]};l=E(0,10,0);h=fa(.2);h.n=fa(-.2);k.call(r,{f:[],o:[],c:[{f:[],o:[],c:[m]},c,{f:[l,h,E(0,0,45),ia(.2)],o:[],c:[],r:[new Ga]},{f:[E(9,9,
0),I(.1,.1,.1)],o:[new F([3,3,3,0,9,9,9,0,0,0,0,1,0,0,0,0]),va],c:[],r:[new Ha]}]});b=116<b?e:f;g.clCl(U[0],U[1],U[2],U[3]);g.cl(16640);a=[5/(a/d),0,0,0,0,5,0,0,0,0,-1,-1,0,0,-1,0];g.uM4fv(g.gUL(w,"p"),!1,a);g.uP(w);ma(b,ia(0));g.u4fv(g.gUL(w,"l"),K(P,K(ka,[0,0,0,1])));la(b,P);requestAnimationFrame(wa)};v.body.innerHTML="Click!";v.body.appendChild(G=v.createElement("canvas"));v=G.style;v.position="fixed";v.left=v.top=0;var g=G.getContext("webgl2");for(v in g)g[v.match(/^.|[A-Zlp1-4]|[fuiv]*$/g).join("")]=
g[v];v=g.cS(35633);g.sS(v,ta[0]);g.cplS(v);g.aS(w=g.cP(),v);v=g.cS(35632);g.sS(v,ta[1]);g.cplS(v);g.aS(w,v);g.lP(w);var va=new function(a){var b=g.cB(),d=g.cB(),f=g.cB(),e=g.cB();a=[];var k=[],l=[];a=[-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,1,-1,-1,-1,1,-1,1,-1,1,1,1,-1,1,1,-1,-1,1,-1,1,-1,1,-1,1,1,1,1,1,1,1,1,1,-1,1,-1,-1,-1,1,1,-1,-1,1,1,-1,1,1,-1,-1,1,1,1,-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,1,1,1,-1,1,-1,1];k=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,
0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0];l=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];g.bB(34962,b);g.bD(34962,new Float32Array(k),35044);g.bB(34962,d);g.bD(34962,new Float32Array(a),35044);g.bB(34962,f);g.bD(34962,new Float32Array(k),35044);g.bB(34963,e);g.bD(34963,new Uint16Array(l),35044);this.c=function(c){var m;c.bB(34962,b);c.elVAA(m=c.gAL(w,"g"));
c.vAP(m,4,5126,!1,0,0);c.bB(34962,d);c.elVAA(m=c.gAL(w,"v"));c.vAP(m,4,5126,!1,0,0);c.bB(34962,f);c.elVAA(m=c.gAL(w,"N"));c.vAP(m,4,5126,!1,0,0);c.bB(34963,e);c.dEl(4,36,5123,0)}}(1);var T=new oa(new Q(1,10,.5),32,new Q(0,32));var Ka=new oa(new Q(-10,10,.5),32,new Q(0,32));var Ia={f:[I(.33,.33,.33)],o:[new F([.78,.27,.11,1,.78,.27,.16,1,.81,.31,.09,1,0,0,0,0]),T],c:[]};var Z=new function(){var a=function(c){return Math.sin(2*c*L)},b=[a,function(c){return.5>c%1?1:-1},function(c){return c%1*2-1},function(c){c=
c%1*4;return 2>c?c-1:3-c}],d,f,e,k,l;this.i=function(c){d=c;f=c.ep;e=0;k=c.rl*c.pl*(f+1)*2;l=new Int32Array(k)};this.g=function(){var c,m,r,h,q,y=new Int32Array(k),p=d.s[e],A=d.rl,B=d.pl,z=0,t=0,H,V=[];for(m=0;m<=f;++m){var N=p.p[m];for(r=0;r<B;++r){if(q=N?p.c[N-1].f[r]:0)p.i[q-1]=p.c[N-1].f[r+B]||0,17>q&&(V=[]);var La=b[p.i[16]],Ma=p.i[17]/512,Na=2**(p.i[18]-9)/A,Oa=p.i[19],xa=p.i[20],Pa=.00308*p.i[21],Qa=1-p.i[22]/255,aa=1E-5*p.i[23],Ra=p.i[24]/32,Sa=p.i[25]/512,Ta=2*L*2**(p.i[26]-9)/A,ya=p.i[27]/
255,ba=p.i[28]*A&-2;q=(m*B+r)*A;for(h=0;4>h;++h)if(c=N?p.c[N-1].n[r+h*B]:0){if(!V[c]){var n=V;var x=c;var za=H=void 0,W,C,u=p,Aa=c,Ua=b[u.i[0]],Va=u.i[1],Wa=u.i[3]/32,Xa=b[u.i[4]],Ya=u.i[5],Za=u.i[8]/32,Ba=u.i[9],J=u.i[10]*u.i[10]*4,X=u.i[11]*u.i[11]*4,ca=u.i[12]*u.i[12]*4,$a=1/ca,ab=-u.i[13]/16,O=u.i[14],bb=A*2**(2-u.i[15]),Ca=new Int32Array(J+X+ca),Da=0,Ea=0;for(W=C=0;C<J+X+ca;C++,W++){0<=W&&(O=O>>8|(O&255)<<4,W-=bb,za=.004*2**((Aa+(O&15)+u.i[2]-128-128)/12),H=.004*2**((Aa+(O&15)+u.i[6]-128-128)/
12)*(1+8E-4*u.i[7]));var D=1;C<J?D=C/J:C>=J+X&&(D=(C-J-X)*$a,D=(1-D)*3**(ab*D));Da+=za*D**Wa;var da=Ua(Da)*Va;Ea+=H*D**Za;da+=Xa(Ea)*Ya;Ba&&(da+=(2*Math.random()-1)*Ba);Ca[C]=80*da*D|0}n[x]=Ca}x=V[c];c=0;for(n=2*q;c<x.length;c++,n+=2)y[n]+=x[c]}for(c=0;c<A;c++)h=2*(q+c),n=y[h],x=Pa,Oa&&(x*=La(Na*h)*Ma+.5),x=1.5*Math.sin(x),z+=x*t,n=Qa*(n-t)-z,t+=x*n,n=3==xa?t:1==xa?n:z,aa&&(n*=aa,n=1>n?-1<n?a(.25*n):-1:1,n/=aa),n*=Ra,x=Math.sin(Ta*h)*Sa+.5,H=n*(1-x),n*=x,h>=ba&&(H+=y[h-ba+1]*ya,n+=y[h-ba]*ya),y[h]=
H|0,y[h+1]=n|0,l[h]+=H|0,l[h+1]+=n|0}}e++;return e/d.nc};this.cpy=function(c,m,r){for(var h=0;h<m;h++)r[h]=l[2*c+2*h]/32768}};for(Z.i({s:[{i:[0,0,128,0,0,0,128,0,0,125,0,1,59,0,0,0,0,0,0,0,1,193,171,0,29,39,3,88,3],p:[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1],c:[{n:[],f:[]},{n:[124,,,,124,,,124,124,,,136,124,,,136,124,,,124,124,,136,124,124,,,,136,,,136],f:[]}]},{i:[3,100,128,0,3,162,128,2,0,0,0,6,55,0,0,0,0,139,4,1,3,30,184,119,244,147,6,0,12],p:[,,,,2,3,4,5,2,2,4,5,6],c:[{n:[],f:[]},{n:[139,
,,,138,,,,137,,,,136,,,,135,,,,134,,,,133,,,,132],f:[]},{n:[134,,,,130,,,,131,,,,127,,,,123,,,,124,,,,125,,,,122],f:[29,,,,,,,,,,,,,,,,,,29,,,,,,,,,,,,,,10,,,,,,,,,,,,,,,,,,12]},{n:[123,,,,124,,,,125,,,,137,,,,136,,,,135,,,,136,,,,133],f:[]},{n:[134,,,,122,,,,123,,,,128,,,,133,,,,137,,,,140,,,,138],f:[]},{n:[139],f:[]}]},{i:[0,255,116,79,0,255,116,0,83,0,4,6,69,52,0,0,0,0,0,0,2,14,0,0,25,0,0,0,0],p:[,,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[136,,,,136,,,,136,,,,136,,,,136,,,,136,,,,136,,,,136],f:[]}]}],rl:2756,
pl:32,ep:24,nc:3});1>Z.g(););var qa=0;onclick=()=>{onclick=null;G.style.cursor="none";G.requestFullscreen();var a=new AudioContext({sampleRate:44100}),b=a.createScriptProcessor(4096,0,1);b.connect(a.destination);b.onaudioprocess=Ja;requestAnimationFrame(wa)}})();
