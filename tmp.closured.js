(function(){function fa(a){var b=Math.sin(a);a=Math.cos(a);return[a,-b,0,0,b,a,0,0,0,0,1,0,0,0,0,1]}function ha(a){var b=Math.sin(a);a=Math.cos(a);return[a,0,-b,0,0,1,0,0,b,0,a,0,0,0,0,1]}function ia(a){var b=Math.sin(a);a=Math.cos(a);return[1,0,0,0,0,a,-b,0,0,b,a,0,0,0,0,1]}function E(a,b,d){var f=[1,0,0,0,0,1,0,0,0,0,1,0,a,b,d,1];f.n=[1,0,0,0,0,1,0,0,0,0,1,0,-a,-b,-d,1];return f}function I(a,b,d){var f=[a,0,0,0,0,b,0,0,0,0,d,0,0,0,0,1];f.n=[1/a,0,0,0,0,1/b,0,0,0,0,1/d,0,0,0,0,1];return f}function Z(a){var b=
fa(a);b.n=fa(-a);return b}function ja(a){var b=ia(a);b.n=ia(-a);return b}function K(a,b){var d,f,e,l=[];for(d=0;d<b.length;d++)l[d]=0;for(d=0;4>d;d++)for(f=0;f<b.length/4;f++)for(e=0;4>e;e++)l[4*f+d]+=a[4*e+d]*b[4*f+e];return l}function ka(a,b){var d=K(a,b);d.n=K(b.n,a.n);return d}function Fa(a){return[a[0],a[4],a[8],0,a[1],a[5],a[9],0,a[2],a[6],a[10],0,0,0,0,1]}function F(a){var b=a.slice();this.c=function(d){d.uM4fv(d.gUL(w,"i"),!1,b)}}function Ga(){this.c=function(a){Q=a.n;Q.n=a}}function Ha(){this.c=
function(a){la=a}}function ma(a,b){b=a.f.reduce(ka,b);g.uM4fv(g.gUL(w,"mv"),!1,b);g.uM4fv(g.gUL(w,"nm"),!1,Fa(b.n));a.o.map(function(d){d.c(g)});a.c.map(function(d){ma(d,b)})}function na(a,b){b=a.f.reduce(ka,b);a.r&&a.r.map(function(d){d.c(b)});a.c.map(function(d){na(d,b)})}function R(a,b,d){var f=d?d:1;this.n=b?b:10;this.c=function(e){var l=Math.sin(2*e*L*f);e=Math.cos(2*e*L*f);return[l,-e,0,0,0,0,1,0,-e,-l,0,0,-l*a,e*a,0,1]}}function oa(a,b,d,f){f=f?f:1;for(var e=0;4>e;e++)a.push(f*b[4*d+e])}function pa(a,
b,d){var f,e,l=[],h=[],c=[],m=[],r=1.5*d.n|0,k=2*(r-1)*(b-1),q=g.cB(),y=g.cB(),p=g.cB(),A=g.cB();for(f=0;f<r;f++){var B=f/(r-1);B=d.c(B);for(e=0;e<b;e++){var z=e/(b-1);z=a.c(z);z=K(B,z);oa(l,z,3);oa(h,z,0,-1);m.push((2*f+e+0)%3?0:1,(2*f+e+1)%3?0:1,(2*f+e+2)%3?0:1,1)}}for(f=0;f<r-1;f++)for(e=0;e<b-1;e++)c.push(f*b+e,f*b+e+1,(f+1)*b+e),c.push(f*b+e+1,(f+1)*b+e+1,(f+1)*b+e);g.bB(34962,q);g.bD(34962,new Float32Array(m),35044);g.bB(34962,p);g.bD(34962,new Float32Array(l),35044);g.bB(34962,y);g.bD(34962,
new Float32Array(h),35044);g.bB(34963,A);g.bD(34963,new Uint16Array(c),35044);this.c=function(t){t.bB(34962,q);t.elVAA(e=t.gAL(w,"g"));t.vAP(e,4,5126,!1,0,0);t.bB(34962,p);t.elVAA(e=t.gAL(w,"v"));t.vAP(e,4,5126,!1,0,0);t.bB(34962,y);t.elVAA(e=t.gAL(w,"N"));t.vAP(e,4,5126,!1,0,0);t.bB(34963,A);t.dEl(4,3*k,5123,0)}}function S(a,b,d,f,e,l){if(0!==d){var h=1===d?T:M;e=h===N?e+.8:e;f=h===N?f-.2:f;var c=h===N?.2:0,m={f:[Z(3.14*-a/180),E(0,f,c)],o:[],c:[{f:[I(e*d/4,f,e*d/4)],o:[new F(h),U],c:[]}]};1===d&&
T===N&&96<=l&&m.c.push(Ia);h={f:[Z(3.14*a/180),E(c,f,0)],o:[],c:[{f:[I(e*d/4,f,e*e/4)],o:[new F(h),U],c:[]}]};b.c.push(h,m);S(a,h,d-1,f,e,l);S(a,m,d-1,f,e,l)}}function Ja(a){aa.cpy(qa,4096,a.outputBuffer.getChannelData(0));qa+=4096}var w,G,ra,sa;var v=document;var Q,la,L=Math.PI,ta=["uniform mat4 mv,nm,p;attribute vec4 g,v,N;varying vec4 c,n,f;void main(){gl_Position=p*mv*v;n=nm*N;c=g;f=mv*v;}","uniform highp mat4 i;uniform highp vec4 l;varying highp vec4 c,n,f;void main(){gl_FragColor=vec4(i[3].aaa*max(0.,1.-4.*min(c.b,min(c.g,c.r)))+max(i[0].rgb,i[1].rgb*max(0.,dot(normalize(l-f),normalize(n)))+i[2].rgb*pow(max(0.,dot(normalize(-f),reflect(-normalize(l-f),normalize(n)))),i[2].a)),1.);}"],
V=[0,0,0,1],M=[.29,.19,.18,1,.29,.18,.25,1,.29,.19,.18,2,0,0,0,0],N=[.15,81,.05,1,.02,75,.05,1,0,0,.22,2,0,0,0,0],T=M,ua=null,wa=function(a){ua||=a;var b=240*(a-ua)/6E4;a=innerWidth;var d=innerHeight;a==ra&&d==sa||g.vp(0,0,ra=G.width=a,sa=G.height=d);g.el(2929);g.el(2884);var f={f:[],o:[],c:[]},e={f:[],o:[],c:[]},l=0,h=0;32<b&&(l=3<.066*(b-24)?3:.066*(b-24),h=1.75<.05*(b-24)?1.75:.05*(b-24));var c=b/4,m={f:[],o:[],c:[]},r={f:[E(0,0,0)],o:[new F(M),U],c:[]};l={f:[E(0,.75,0),I(h,l,h)],o:[new F(M),va],
c:[]};h=.1<.01*b?.1:.01*b;var k=1.75<.25*b?1.75:.25*b,q=7<Math.floor(c)?7:Math.floor(c);c={f:[Z(L)],o:[],c:[]};T=M;S(17.5,c,q,k,h,q);h={f:[],o:[],c:[]};q=b/5-7;k=1.1<q?1.1:q;0<q&&(T=N,q=9<Math.floor(q)?9:Math.floor(q),S(15,h,q,k,.07,b));m.c.push(r);m.c.push(l);m.c.push(h);m.c.push(c);c={f:[],o:[new F([.1,.1,.2,1,.3,.3,1,1,.1,.1,.1,2,0,0,0,0]),Ka],c:[]};r=f.c;l=r.push;c={f:[I(3,3,3)],o:[],c:[c]};h=E(0,10,0);k=ha(.2);k.n=ha(-.2);l.call(r,{f:[],o:[],c:[{f:[],o:[],c:[m]},c,{f:[h,k,E(0,0,45),ja(.2)],o:[],
c:[],r:[new Ga]},{f:[E(9,9,0),I(.1,.1,.1)],o:[new F([3,3,3,0,9,9,9,0,0,0,0,1,0,0,0,0]),va],c:[],r:[new Ha]}]});b=116<b?e:f;g.clCl(V[0],V[1],V[2],V[3]);g.cl(16640);a=[5/(a/d),0,0,0,0,5,0,0,0,0,-1,-1,0,0,-1,0];g.uM4fv(g.gUL(w,"p"),!1,a);g.uP(w);na(b,ja(0));g.u4fv(g.gUL(w,"l"),K(Q,K(la,[0,0,0,1])));ma(b,Q);requestAnimationFrame(wa)};v.body.innerHTML="Click!";v.body.appendChild(G=v.createElement("canvas"));v=G.style;v.position="fixed";v.left=v.top=0;var g=G.getContext("webgl2");for(v in g)g[v.match(/^.|[A-Zlp1-4]|[fuiv]*$/g).join("")]=
g[v];v=g.cS(35633);g.sS(v,ta[0]);g.cplS(v);g.aS(w=g.cP(),v);v=g.cS(35632);g.sS(v,ta[1]);g.cplS(v);g.aS(w,v);g.lP(w);var va=new function(a){var b=g.cB(),d=g.cB(),f=g.cB(),e=g.cB();a=[];var l=[],h=[];a=[-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,1,-1,-1,-1,1,-1,1,-1,1,1,1,-1,1,1,-1,-1,1,-1,1,-1,1,-1,1,1,1,1,1,1,1,1,1,-1,1,-1,-1,-1,1,1,-1,-1,1,1,-1,1,1,-1,-1,1,1,1,-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,1,1,1,-1,1,-1,1];l=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,
0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0];h=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];g.bB(34962,b);g.bD(34962,new Float32Array(l),35044);g.bB(34962,d);g.bD(34962,new Float32Array(a),35044);g.bB(34962,f);g.bD(34962,new Float32Array(l),35044);g.bB(34963,e);g.bD(34963,new Uint16Array(h),35044);this.c=function(c){var m;c.bB(34962,b);c.elVAA(m=c.gAL(w,"g"));
c.vAP(m,4,5126,!1,0,0);c.bB(34962,d);c.elVAA(m=c.gAL(w,"v"));c.vAP(m,4,5126,!1,0,0);c.bB(34962,f);c.elVAA(m=c.gAL(w,"N"));c.vAP(m,4,5126,!1,0,0);c.bB(34963,e);c.dEl(4,36,5123,0)}}(1);var U=new pa(new R(1,10,.5),32,new R(0,32));var Ka=new pa(new R(-10,10,.5),32,new R(0,32));var Ia={f:[I(.3,.3,.3)],o:[new F([.78,.27,.11,1,.78,.27,.16,1,.81,.31,.09,1,0,0,0,0]),U],c:[]};var aa=new function(){var a=function(c){return Math.sin(2*c*L)},b=[a,function(c){return.5>c%1?1:-1},function(c){return c%1*2-1},function(c){c=
c%1*4;return 2>c?c-1:3-c}],d,f,e,l,h;this.i=function(c){d=c;f=c.ep;e=0;l=c.rl*c.pl*(f+1)*2;h=new Int32Array(l)};this.g=function(){var c,m,r,k,q,y=new Int32Array(l),p=d.s[e],A=d.rl,B=d.pl,z=0,t=0,H,W=[];for(m=0;m<=f;++m){var O=p.p[m];for(r=0;r<B;++r){if(q=O?p.c[O-1].f[r]:0)p.i[q-1]=p.c[O-1].f[r+B]||0,17>q&&(W=[]);var La=b[p.i[16]],Ma=p.i[17]/512,Na=2**(p.i[18]-9)/A,Oa=p.i[19],xa=p.i[20],Pa=.00308*p.i[21],Qa=1-p.i[22]/255,ba=1E-5*p.i[23],Ra=p.i[24]/32,Sa=p.i[25]/512,Ta=2*L*2**(p.i[26]-9)/A,ya=p.i[27]/
255,ca=p.i[28]*A&-2;q=(m*B+r)*A;for(k=0;4>k;++k)if(c=O?p.c[O-1].n[r+k*B]:0){if(!W[c]){var n=W;var x=c;var za=H=void 0,X,C,u=p,Aa=c,Ua=b[u.i[0]],Va=u.i[1],Wa=u.i[3]/32,Xa=b[u.i[4]],Ya=u.i[5],Za=u.i[8]/32,Ba=u.i[9],J=u.i[10]*u.i[10]*4,Y=u.i[11]*u.i[11]*4,da=u.i[12]*u.i[12]*4,$a=1/da,ab=-u.i[13]/16,P=u.i[14],bb=A*2**(2-u.i[15]),Ca=new Int32Array(J+Y+da),Da=0,Ea=0;for(X=C=0;C<J+Y+da;C++,X++){0<=X&&(P=P>>8|(P&255)<<4,X-=bb,za=.004*2**((Aa+(P&15)+u.i[2]-128-128)/12),H=.004*2**((Aa+(P&15)+u.i[6]-128-128)/
12)*(1+8E-4*u.i[7]));var D=1;C<J?D=C/J:C>=J+Y&&(D=(C-J-Y)*$a,D=(1-D)*3**(ab*D));Da+=za*D**Wa;var ea=Ua(Da)*Va;Ea+=H*D**Za;ea+=Xa(Ea)*Ya;Ba&&(ea+=(2*Math.random()-1)*Ba);Ca[C]=80*ea*D|0}n[x]=Ca}x=W[c];c=0;for(n=2*q;c<x.length;c++,n+=2)y[n]+=x[c]}for(c=0;c<A;c++)k=2*(q+c),n=y[k],x=Pa,Oa&&(x*=La(Na*k)*Ma+.5),x=1.5*Math.sin(x),z+=x*t,n=Qa*(n-t)-z,t+=x*n,n=3==xa?t:1==xa?n:z,ba&&(n*=ba,n=1>n?-1<n?a(.25*n):-1:1,n/=ba),n*=Ra,x=Math.sin(Ta*k)*Sa+.5,H=n*(1-x),n*=x,k>=ca&&(H+=y[k-ca+1]*ya,n+=y[k-ca]*ya),y[k]=
H|0,y[k+1]=n|0,h[k]+=H|0,h[k+1]+=n|0}}e++;return e/d.nc};this.cpy=function(c,m,r){for(var k=0;k<m;k++)r[k]=h[2*c+2*k]/32768}};for(aa.i({s:[{i:[0,0,128,0,0,0,128,0,0,125,0,1,59,0,0,0,0,0,0,0,1,193,171,0,29,39,3,88,3],p:[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1],c:[{n:[],f:[]},{n:[124,,,,124,,,124,124,,,136,124,,,136,124,,,124,124,,136,124,124,,,,136,,,136],f:[]}]},{i:[3,100,128,0,3,162,128,2,0,0,0,6,55,0,0,0,0,139,4,1,3,30,184,119,244,147,6,0,12],p:[,,,,2,3,4,5,2,2,4,5,6],c:[{n:[],f:[]},{n:[139,
,,,138,,,,137,,,,136,,,,135,,,,134,,,,133,,,,132],f:[]},{n:[134,,,,130,,,,131,,,,127,,,,123,,,,124,,,,125,,,,122],f:[29,,,,,,,,,,,,,,,,,,29,,,,,,,,,,,,,,10,,,,,,,,,,,,,,,,,,12]},{n:[123,,,,124,,,,125,,,,137,,,,136,,,,135,,,,136,,,,133],f:[]},{n:[134,,,,122,,,,123,,,,128,,,,133,,,,137,,,,140,,,,138],f:[]},{n:[139],f:[]}]},{i:[0,255,116,79,0,255,116,0,83,0,4,6,69,52,0,0,0,0,0,0,2,14,0,0,25,0,0,0,0],p:[,,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[136,,,,136,,,,136,,,,136,,,,136,,,,136,,,,136,,,,136],f:[]}]}],rl:2756,
pl:32,ep:24,nc:3});1>aa.g(););var qa=0;onclick=()=>{onclick=null;G.style.cursor="none";G.requestFullscreen();var a=new AudioContext({sampleRate:44100}),b=a.createScriptProcessor(4096,0,1);b.connect(a.destination);b.onaudioprocess=Ja;requestAnimationFrame(wa)}})();
