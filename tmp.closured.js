(function(){function fa(a){var b=Math.sin(a);a=Math.cos(a);return[a,-b,0,0,b,a,0,0,0,0,1,0,0,0,0,1]}function ha(a){var b=Math.sin(a);a=Math.cos(a);return[a,0,-b,0,0,1,0,0,b,0,a,0,0,0,0,1]}function ia(a){var b=Math.sin(a);a=Math.cos(a);return[1,0,0,0,0,a,-b,0,0,b,a,0,0,0,0,1]}function A(a,b,e){var f=[1,0,0,0,0,1,0,0,0,0,1,0,a,b,e,1];f.n=[1,0,0,0,0,1,0,0,0,0,1,0,-a,-b,-e,1];return f}function G(a,b,e){var f=[a,0,0,0,0,b,0,0,0,0,e,0,0,0,0,1];f.n=[1/a,0,0,0,0,1/b,0,0,0,0,1/e,0,0,0,0,1];return f}function P(a){var b=
fa(a);b.n=fa(-a);return b}function ja(a){var b=ia(a);b.n=ia(-a);return b}function K(a,b){var e,f,d,h=[];for(e=0;e<b.length;e++)h[e]=0;for(e=0;4>e;e++)for(f=0;f<b.length/4;f++)for(d=0;4>d;d++)h[4*f+e]+=a[4*d+e]*b[4*f+d];return h}function ka(a,b){var e=K(a,b);e.n=K(b.n,a.n);return e}function Fa(a){return[a[0],a[4],a[8],0,a[1],a[5],a[9],0,a[2],a[6],a[10],0,0,0,0,1]}function C(a){var b=a.slice();this.c=function(e){e.uM4fv(e.gUL(v,"i"),!1,b)}}function Ga(){this.c=function(a){Q=a.n;Q.n=a}}function Ha(){this.c=
function(a){la=a}}function ma(a,b){b=a.f.reduce(ka,b);g.uM4fv(g.gUL(v,"mv"),!1,b);g.uM4fv(g.gUL(v,"nm"),!1,Fa(b.n));a.o.map(function(e){e.c(g)});a.c.map(function(e){ma(e,b)})}function na(a,b){b=a.f.reduce(ka,b);a.r&&a.r.map(function(e){e.c(b)});a.c.map(function(e){na(e,b)})}function R(a,b,e){var f=e?e:1;this.n=b?b:10;this.c=function(d){var h=Math.sin(2*d*S*f);d=Math.cos(2*d*S*f);return[h,-d,0,0,0,0,1,0,-d,-h,0,0,-h*a,d*a,0,1]}}function oa(a,b,e,f){f=f?f:1;for(var d=0;4>d;d++)a.push(f*b[4*e+d])}function pa(a,
b,e){var f,d,h=[],m=[],c=[],l=[],n=1.5*e.n|0,k=2*(n-1)*(b-1),x=g.cB(),y=g.cB(),q=g.cB(),B=g.cB();for(f=0;f<n;f++){var D=f/(n-1);D=e.c(D);for(d=0;d<b;d++){var z=d/(b-1);z=a.c(z);z=K(D,z);oa(h,z,3);oa(m,z,0,-1);l.push((2*f+d+0)%3?0:1,(2*f+d+1)%3?0:1,(2*f+d+2)%3?0:1,1)}}for(f=0;f<n-1;f++)for(d=0;d<b-1;d++)c.push(f*b+d,f*b+d+1,(f+1)*b+d),c.push(f*b+d+1,(f+1)*b+d+1,(f+1)*b+d);g.bB(34962,x);g.bD(34962,new Float32Array(l),35044);g.bB(34962,q);g.bD(34962,new Float32Array(h),35044);g.bB(34962,y);g.bD(34962,
new Float32Array(m),35044);g.bB(34963,B);g.bD(34963,new Uint16Array(c),35044);this.c=function(r){r.bB(34962,x);r.elVAA(d=r.gAL(v,"g"));r.vAP(d,4,5126,!1,0,0);r.bB(34962,q);r.elVAA(d=r.gAL(v,"v"));r.vAP(d,4,5126,!1,0,0);r.bB(34962,y);r.elVAA(d=r.gAL(v,"N"));r.vAP(d,4,5126,!1,0,0);r.bB(34963,B);r.dEl(4,3*k,5123,0)}}function X(a,b,e,f,d){if(0!==e){var h=1===e?Ia:L,m={f:[P(3.14*-a/180),A(0,f,0)],o:[],c:[{f:[G(d,f,d)],o:[new C(h),M],c:[]}]};h={f:[P(3.14*a/180),A(0,f,0)],o:[],c:[{f:[G(d,f,d)],o:[new C(h),
M],c:[]}]};b.c.push(h,m);X(a,h,e-1,f,d);X(a,m,e-1,f,d)}}function Y(a,b,e,f,d){if(0!==e){var h={f:[P(3.14*-a/180),A(0,-f,0)],o:[],c:[{f:[G(d,f,d)],o:[new C(L),M],c:[]}]},m={f:[P(3.14*a/180),A(0,-f,0)],o:[],c:[{f:[G(d,f,d)],o:[new C(L),M],c:[]}]};b.c.push(m,h);Y(a,m,e-1,f,d);Y(a,h,e-1,f,d)}}function Z(a,b,e){return[a/3,b/3,e/3,0,a,b,e,0,0,0,0,1,0,0,0,0]}function Ja(a){aa.cpy(qa,4096,a.outputBuffer.getChannelData(0));qa+=4096}var v,H,ra,sa;var u=document;var Q,la,S=Math.PI,ta=["uniform mat4 mv,nm,p;attribute vec4 g,v,N;varying vec4 c,n,f;void main(){gl_Position=p*mv*v;n=nm*N;c=g;f=mv*v;}",
"uniform highp mat4 i;uniform highp vec4 l;varying highp vec4 c,n,f;void main(){gl_FragColor=vec4(i[3].aaa*max(0.,1.-4.*min(c.b,min(c.g,c.r)))+max(i[0].rgb,i[1].rgb*max(0.,dot(normalize(l-f),normalize(n)))+i[2].rgb*pow(max(0.,dot(normalize(-f),reflect(-normalize(l-f),normalize(n)))),i[2].a)),1.);}"],T=[0,0,0,1],L=[.5,.02,.05,1,.02,.75,.05,1,0,0,.1,2,0,0,0,0],Ia=[.15,.02,.05,1,.02,1,.05,1,0,0,.22,2,0,0,0,0],ua=null,wa=function(a){ua||=a;var b=240*(a-ua)/6E4,e=innerWidth,f=innerHeight;e==ra&&f==sa||
g.vp(0,0,ra=H.width=e,sa=H.height=f);g.el(2929);g.el(2884);a={f:[],o:[],c:[]};var d=5.5<.1*b?5.5:.1*b,h=1.5<.05*b?1.5:.05*b,m={f:[],o:[],c:[]},c={f:[A(0,0,0)],o:[new C(L),M],c:[]};d={f:[A(0,.75,0),G(h,d,h)],o:[new C(L),va],c:[]};h=1.75<.25*b?1.75:.25*b;var l=b/4,n={f:[],o:[],c:[]};Y(17.5,n,7<Math.floor(l)?7:Math.floor(l),h,.15<.01*b?.15:.01*b);l={f:[],o:[],c:[]};var k=b/3-20;if(0<k){var x=8<Math.floor(k)?8:Math.floor(k);X(17.5,l,x,.75*h,.2)}console.log(k);m.c.push(c);m.c.push(d);m.c.push(l);m.c.push(n);
Z(.9,.6,.4);Z(.2,.5+Math.sin(b),.4);h={f:[],o:[new C([.1,.1,.2,1,.3,.3,1,1,.1,.1,.1,2,0,0,0,0]),Ka],c:[]};c=a.c;d=c.push;h={f:[G(3,3,3)],o:[],c:[h]};n=A(0,10,0);l=ha(0);l.n=ha(-0);d.call(c,{f:[],o:[],c:[{f:[],o:[],c:[m]},h,{f:[n,l,A(0,0,45),ja(.2)],o:[],c:[],r:[new Ga]},{f:[A(9*Math.sin(b/9),3+Math.sin(b),0),G(.1,.1,.1)],o:[new C(Z(9,9,9)),va],c:[],r:[new Ha]}]});g.clCl(T[0],T[1],T[2],T[3]);g.cl(16640);b=[5/(e/f),0,0,0,0,5,0,0,0,0,-1,-1,0,0,-1,0];g.uM4fv(g.gUL(v,"p"),!1,b);g.uP(v);na(a,ja(0));g.u4fv(g.gUL(v,
"l"),K(Q,K(la,[0,0,0,1])));ma(a,Q);requestAnimationFrame(wa)};u.body.innerHTML="Click!";u.body.appendChild(H=u.createElement("canvas"));u=H.style;u.position="fixed";u.left=u.top=0;var g=H.getContext("webgl2");for(u in g)g[u.match(/^.|[A-Zlp1-4]|[fuiv]*$/g).join("")]=g[u];u=g.cS(35633);g.sS(u,ta[0]);g.cplS(u);g.aS(v=g.cP(),u);u=g.cS(35632);g.sS(u,ta[1]);g.cplS(u);g.aS(v,u);g.lP(v);var va=new function(a){var b=g.cB(),e=g.cB(),f=g.cB(),d=g.cB();a=[];var h=[],m=[];a=[-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,
1,-1,-1,-1,1,-1,1,-1,1,1,1,-1,1,1,-1,-1,1,-1,1,-1,1,-1,1,1,1,1,1,1,1,1,1,-1,1,-1,-1,-1,1,1,-1,-1,1,1,-1,1,1,-1,-1,1,1,1,-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,1,1,1,-1,1,-1,1];h=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0];m=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];g.bB(34962,
b);g.bD(34962,new Float32Array(h),35044);g.bB(34962,e);g.bD(34962,new Float32Array(a),35044);g.bB(34962,f);g.bD(34962,new Float32Array(h),35044);g.bB(34963,d);g.bD(34963,new Uint16Array(m),35044);this.c=function(c){var l;c.bB(34962,b);c.elVAA(l=c.gAL(v,"g"));c.vAP(l,4,5126,!1,0,0);c.bB(34962,e);c.elVAA(l=c.gAL(v,"v"));c.vAP(l,4,5126,!1,0,0);c.bB(34962,f);c.elVAA(l=c.gAL(v,"N"));c.vAP(l,4,5126,!1,0,0);c.bB(34963,d);c.dEl(4,36,5123,0)}}(1);var M=new pa(new R(1,10,.5),32,new R(0,32));var Ka=new pa(new R(-10,
10,.5),32,new R(0,32));var aa=new function(){var a=function(c){return Math.sin(2*c*S)},b=[a,function(c){return.5>c%1?1:-1},function(c){return c%1*2-1},function(c){c=c%1*4;return 2>c?c-1:3-c}],e,f,d,h,m;this.i=function(c){e=c;f=c.ep;d=0;h=c.rl*c.pl*(f+1)*2;m=new Int32Array(h)};this.g=function(){var c,l,n,k,x,y=new Int32Array(h),q=e.s[d],B=e.rl,D=e.pl,z=0,r=0,I,U=[];for(l=0;l<=f;++l){var N=q.p[l];for(n=0;n<D;++n){if(x=N?q.c[N-1].f[n]:0)q.i[x-1]=q.c[N-1].f[n+D]||0,17>x&&(U=[]);var La=b[q.i[16]],Ma=q.i[17]/
512,Na=2**(q.i[18]-9)/B,Oa=q.i[19],xa=q.i[20],Pa=.00308*q.i[21],Qa=1-q.i[22]/255,ba=1E-5*q.i[23],Ra=q.i[24]/32,Sa=q.i[25]/512,Ta=2*S*2**(q.i[26]-9)/B,ya=q.i[27]/255,ca=q.i[28]*B&-2;x=(l*D+n)*B;for(k=0;4>k;++k)if(c=N?q.c[N-1].n[n+k*D]:0){if(!U[c]){var p=U;var w=c;var za=I=void 0,V,E,t=q,Aa=c,Ua=b[t.i[0]],Va=t.i[1],Wa=t.i[3]/32,Xa=b[t.i[4]],Ya=t.i[5],Za=t.i[8]/32,Ba=t.i[9],J=t.i[10]*t.i[10]*4,W=t.i[11]*t.i[11]*4,da=t.i[12]*t.i[12]*4,$a=1/da,ab=-t.i[13]/16,O=t.i[14],bb=B*2**(2-t.i[15]),Ca=new Int32Array(J+
W+da),Da=0,Ea=0;for(V=E=0;E<J+W+da;E++,V++){0<=V&&(O=O>>8|(O&255)<<4,V-=bb,za=.004*2**((Aa+(O&15)+t.i[2]-128-128)/12),I=.004*2**((Aa+(O&15)+t.i[6]-128-128)/12)*(1+8E-4*t.i[7]));var F=1;E<J?F=E/J:E>=J+W&&(F=(E-J-W)*$a,F=(1-F)*3**(ab*F));Da+=za*F**Wa;var ea=Ua(Da)*Va;Ea+=I*F**Za;ea+=Xa(Ea)*Ya;Ba&&(ea+=(2*Math.random()-1)*Ba);Ca[E]=80*ea*F|0}p[w]=Ca}w=U[c];c=0;for(p=2*x;c<w.length;c++,p+=2)y[p]+=w[c]}for(c=0;c<B;c++)k=2*(x+c),p=y[k],w=Pa,Oa&&(w*=La(Na*k)*Ma+.5),w=1.5*Math.sin(w),z+=w*r,p=Qa*(p-r)-z,
r+=w*p,p=3==xa?r:1==xa?p:z,ba&&(p*=ba,p=1>p?-1<p?a(.25*p):-1:1,p/=ba),p*=Ra,w=Math.sin(Ta*k)*Sa+.5,I=p*(1-w),p*=w,k>=ca&&(I+=y[k-ca+1]*ya,p+=y[k-ca]*ya),y[k]=I|0,y[k+1]=p|0,m[k]+=I|0,m[k+1]+=p|0}}d++;return d/e.nc};this.createAudioBuffer=function(c){c=c.createBuffer(2,h/2,44100);for(var l=0;2>l;l++)for(var n=c.getChannelData(l),k=l;k<h;k+=2)n[k>>1]=m[k]/65536;return c};this.c=function(){var c=44+2*h-8,l=c-36,n=new Uint8Array(44+2*h);n.set([82,73,70,70,c&255,c>>8&255,c>>16&255,c>>24&255,87,65,86,69,
102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,l&255,l>>8&255,l>>16&255,l>>24&255]);c=0;for(l=44;c<h;++c){var k=m[c];k=-32767>k?-32767:32767<k?32767:k;n[l++]=k&255;n[l++]=k>>8&255}return n};this.cpy=function(c,l,n){for(var k=0;k<l;k++)n[k]=m[2*c+2*k]/32768}};for(aa.i({s:[{i:[0,0,128,0,0,0,128,0,0,125,0,1,59,0,0,0,0,0,0,0,1,193,171,0,29,39,3,88,3],p:[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],c:[{n:[],f:[]},{n:[124,,,,124,,,124,124,,,136,124,,,136,124,,,124,124,,136,
124,124,,,,136,,,136],f:[]}]},{i:[3,100,128,0,3,162,128,2,0,0,0,6,55,0,0,0,0,139,4,1,3,30,184,119,244,147,6,0,12],p:[,,,,2,3,4,5,2,2,4,5,3,3,4,5,3,3,4,5,6],c:[{n:[],f:[]},{n:[139,,,,138,,,,137,,,,136,,,,135,,,,134,,,,133,,,,132],f:[]},{n:[134,,,,130,,,,131,,,,127,,,,123,,,,124,,,,125,,,,122],f:[29,,,,,,,,,,,,,,,,,,29,,,,,,,,,,,,,,10,,,,,,,,,,,,,,,,,,12]},{n:[123,,,,124,,,,125,,,,137,,,,136,,,,135,,,,136,,,,133],f:[]},{n:[134,,,,122,,,,123,,,,128,,,,133,,,,137,,,,140,,,,138],f:[]},{n:[139],f:[]}]},
{i:[0,255,116,79,0,255,116,0,83,0,4,6,69,52,0,0,0,0,0,0,2,14,0,0,25,0,0,0,0],p:[,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[136,,,,136,,,,136,,,,136,,,,136,,,,136,,,,136,,,,136],f:[]}]}],rl:2756,pl:32,ep:22,nc:3});1>aa.g(););var qa=0;onclick=()=>{onclick=null;H.style.cursor="none";H.requestFullscreen();var a=new AudioContext({sampleRate:44100}),b=a.createScriptProcessor(4096,0,1);b.connect(a.destination);b.onaudioprocess=Ja;requestAnimationFrame(wa)}})();
