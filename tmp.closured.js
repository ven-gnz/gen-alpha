(function(){function ea(a){var b=Math.sin(a);a=Math.cos(a);return[a,-b,0,0,b,a,0,0,0,0,1,0,0,0,0,1]}function fa(a){var b=Math.sin(a);a=Math.cos(a);return[a,0,-b,0,0,1,0,0,b,0,a,0,0,0,0,1]}function ha(a){var b=Math.sin(a);a=Math.cos(a);return[1,0,0,0,0,a,-b,0,0,b,a,0,0,0,0,1]}function t(a,b,d){var f=[1,0,0,0,0,1,0,0,0,0,1,0,a,b,d,1];f.n=[1,0,0,0,0,1,0,0,0,0,1,0,-a,-b,-d,1];return f}function y(a,b,d){var f=[a,0,0,0,0,b,0,0,0,0,d,0,0,0,0,1];f.n=[1/a,0,0,0,0,1/b,0,0,0,0,1/d,0,0,0,0,1];return f}function ia(a){var b=
ea(a);b.n=ea(-a);return b}function L(a){var b=fa(a);b.n=fa(-a);return b}function P(a){var b=ha(a);b.n=ha(-a);return b}function M(a,b){var d,f,g,l=[];for(d=0;d<b.length;d++)l[d]=0;for(d=0;4>d;d++)for(f=0;f<b.length/4;f++)for(g=0;4>g;g++)l[4*f+d]+=a[4*g+d]*b[4*f+g];return l}function ja(a,b){var d=M(a,b);d.n=M(b.n,a.n);return d}function Ea(a){return[a[0],a[4],a[8],0,a[1],a[5],a[9],0,a[2],a[6],a[10],0,0,0,0,1]}function A(a){var b=a.slice();this.c=function(d){d.uM4fv(d.gUL(w,"i"),!1,b)}}function Fa(){this.c=
function(a){Q=a.n;Q.n=a}}function Ga(){this.c=function(a){ka=a}}function la(a,b){b=a.f.reduce(ja,b);e.uM4fv(e.gUL(w,"mv"),!1,b);e.uM4fv(e.gUL(w,"nm"),!1,Ea(b.n));a.o.map(function(d){d.c(e)});a.c.map(function(d){la(d,b)})}function ma(a,b){b=a.f.reduce(ja,b);a.r&&a.r.map(function(d){d.c(b)});a.c.map(function(d){ma(d,b)})}function R(a,b,d){var f=d?d:1;this.n=b?b:10;this.c=function(g){var l=Math.sin(2*g*S*f);g=Math.cos(2*g*S*f);return[l,-g,0,0,0,0,1,0,-g,-l,0,0,-l*a,g*a,0,1]}}function na(a,b,d,f){f=f?
f:1;for(var g=0;4>g;g++)a.push(f*b[4*d+g])}function oa(a,b,d){var f,g,l=[],u=[],c=[],k=[],m=1.5*d.n|0,h=2*(m-1)*(b-1),z=e.cB(),B=e.cB(),p=e.cB(),D=e.cB();for(f=0;f<m;f++){var F=f/(m-1);F=d.c(F);for(g=0;g<b;g++){var C=g/(b-1);C=a.c(C);C=M(F,C);na(l,C,3);na(u,C,0,-1);k.push((2*f+g+0)%3?0:1,(2*f+g+1)%3?0:1,(2*f+g+2)%3?0:1,1)}}for(f=0;f<m-1;f++)for(g=0;g<b-1;g++)c.push(f*b+g,f*b+g+1,(f+1)*b+g),c.push(f*b+g+1,(f+1)*b+g+1,(f+1)*b+g);e.bB(34962,z);e.bD(34962,new Float32Array(k),35044);e.bB(34962,p);e.bD(34962,
new Float32Array(l),35044);e.bB(34962,B);e.bD(34962,new Float32Array(u),35044);e.bB(34963,D);e.bD(34963,new Uint16Array(c),35044);this.c=function(q){q.bB(34962,z);q.elVAA(g=q.gAL(w,"g"));q.vAP(g,4,5126,!1,0,0);q.bB(34962,p);q.elVAA(g=q.gAL(w,"v"));q.vAP(g,4,5126,!1,0,0);q.bB(34962,B);q.elVAA(g=q.gAL(w,"N"));q.vAP(g,4,5126,!1,0,0);q.bB(34963,D);q.dEl(4,3*h,5123,0)}}function pa(a){var b={f:[],o:[],c:[]},d=[.1,.12,.05,1,.2,.4,.5,1,.1,.1,.1,1,0,0,0,0],f=[.01,.02,.05,1,.02,.04,.05,1,.6,.3,.1,2,0,0,0,0];
b.c.push({f:[t(0,1,0)],o:[new A(d),E],c:[]});b.c.push({f:[t(0,2,0),y(.7,.7,.7)],o:[new A(d),E],c:[{f:[L(.2),ia(.4*Math.sin(.8*a)),t(1,0,0),y(.8,.3,.3)],o:[E],c:[]},{f:[L(-.2),P(.4*Math.sin(.06*a)),ia(3.14-.4*Math.sin(.1*a)),t(1,0,0),y(.8,.3,.3)],o:[E],c:[]}]});b.c.push({f:[t(0,3,0),y(.4,.4,.4),P(-.3)],o:[new A(d),E],c:[{f:[t(0,.5,0),y(1.5,.2,1.5)],o:[new A(f),E],c:[]},{f:[t(0,.2,0),y(.9,1,.9)],o:[new A(f),E],c:[]}]});return b}function X(a,b,d){return[a/3,b/3,d/3,0,a,b,d,0,0,0,0,1,0,0,0,0]}function Ha(a){Y.cpy(qa,
4096,a.outputBuffer.getChannelData(0));qa+=4096}var w,I,ra,sa;var v=document;var Q,ka,S=Math.PI,ta=["uniform mat4 mv,nm,p;attribute vec4 g,v,N;varying vec4 c,n,f;void main(){gl_Position=p*mv*v;n=nm*N;c=g;f=mv*v;}","uniform highp mat4 i;uniform highp vec4 l;varying highp vec4 c,n,f;void main(){gl_FragColor=vec4(i[3].aaa*max(0.,1.-4.*min(c.b,min(c.g,c.r)))+max(i[0].rgb,i[1].rgb*max(0.,dot(normalize(l-f),normalize(n)))+i[2].rgb*pow(max(0.,dot(normalize(-f),reflect(-normalize(l-f),normalize(n)))),i[2].a)),1.);}"],
T=[0,0,0,1],ua=null,va=function(a){ua||=a;var b=116*(a-ua)/6E4,d=innerWidth,f=innerHeight;d==ra&&f==sa||e.vp(0,0,ra=I.width=d,sa=I.height=f);e.el(2929);e.el(2884);a={f:[],o:[],c:[]};var g=pa(2*b),l=pa(2*b+2),u={f:[],o:[],c:[]};u.c.push({f:[t(-1,2,0),y(.1,.1,.1)],o:[new A([.1,.12,.05,1,.2,.4,.5,1,.1,.1,.1,1,0,0,0,0]),E],c:[]});u.c.push({f:[t(-b,2,0)],o:[E],c:[]});g={f:[],o:[],c:[{f:[t(5,0,0),L(1.6)],o:[],c:[g]},{f:[t(-5,0,0),L(-1.6)],o:[],c:[l]}]};l=X(.9,.6,.4);var c=X(.2,.5+Math.sin(b),.4),k=[t(0,
-3,0)],m=[t(0,-3,0)],h={f:[],o:[new A([.1,.1,.2,1,.3,.3,1,1,.1,.1,.1,2,0,0,0,0]),Ia],c:[]},z=Math.min(-7+b/4,3);a.c.push({f:[],o:[],c:[{f:[t(0,-3,0),y(60,.2,60)],o:[new A(l),Z],c:[]},{f:[t(0,z,0),y(2,2,2)],o:[new A(c),Z],c:[]},{f:k,o:[],c:[g]},{f:m,o:[],c:[u]},{f:[y(3,3,3)],o:[],c:[h]},{f:[t(0,3,0),L(b/3),t(0,0,30),P(.2)],o:[],c:[],r:[new Fa]},{f:[t(9*Math.sin(b/9),3+Math.sin(b),0),y(.1,.1,.1)],o:[new A(X(9,9,9)),Z],c:[],r:[new Ga]}]});e.clCl(T[0],T[1],T[2],T[3]);e.cl(16640);b=[5/(d/f),0,0,0,0,5,
0,0,0,0,-1,-1,0,0,-1,0];e.uM4fv(e.gUL(w,"p"),!1,b);e.uP(w);ma(a,P(0));e.u4fv(e.gUL(w,"l"),M(Q,M(ka,[0,0,0,1])));la(a,Q);requestAnimationFrame(va)};v.body.innerHTML="Click!";v.body.appendChild(I=v.createElement("canvas"));v=I.style;v.position="fixed";v.left=v.top=0;var e=I.getContext("webgl2");for(v in e)e[v.match(/^.|[A-Zlp1-4]|[fuiv]*$/g).join("")]=e[v];v=e.cS(35633);e.sS(v,ta[0]);e.cplS(v);e.aS(w=e.cP(),v);v=e.cS(35632);e.sS(v,ta[1]);e.cplS(v);e.aS(w,v);e.lP(w);var Z=new function(a){var b=e.cB(),
d=e.cB(),f=e.cB(),g=e.cB();a=[];var l=[],u=[];a=[-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,1,-1,-1,-1,1,-1,1,-1,1,1,1,-1,1,1,-1,-1,1,-1,1,-1,1,-1,1,1,1,1,1,1,1,1,1,-1,1,-1,-1,-1,1,1,-1,-1,1,1,-1,1,1,-1,-1,1,1,1,-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,1,1,1,-1,1,-1,1];l=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0];u=[0,1,2,0,2,3,
4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];e.bB(34962,b);e.bD(34962,new Float32Array(l),35044);e.bB(34962,d);e.bD(34962,new Float32Array(a),35044);e.bB(34962,f);e.bD(34962,new Float32Array(l),35044);e.bB(34963,g);e.bD(34963,new Uint16Array(u),35044);this.c=function(c){var k;c.bB(34962,b);c.elVAA(k=c.gAL(w,"g"));c.vAP(k,4,5126,!1,0,0);c.bB(34962,d);c.elVAA(k=c.gAL(w,"v"));c.vAP(k,4,5126,!1,0,0);c.bB(34962,f);c.elVAA(k=c.gAL(w,"N"));c.vAP(k,4,5126,!1,0,0);c.bB(34963,
g);c.dEl(4,36,5123,0)}}(1);var E=new oa(new R(1,10,.5),32,new R(0,32));var Ia=new oa(new R(-10,10,.5),32,new R(0,32));var Y=new function(){var a=function(c){return Math.sin(2*c*S)},b=[a,function(c){return.5>c%1?1:-1},function(c){return c%1*2-1},function(c){c=c%1*4;return 2>c?c-1:3-c}],d,f,g,l,u;this.i=function(c){d=c;f=c.ep;g=0;l=c.rl*c.pl*(f+1)*2;u=new Int32Array(l)};this.g=function(){var c,k,m,h,z,B=new Int32Array(l),p=d.s[g],D=d.rl,F=d.pl,C=0,q=0,J,U=[];for(k=0;k<=f;++k){var N=p.p[k];for(m=0;m<
F;++m){if(z=N?p.c[N-1].f[m]:0)p.i[z-1]=p.c[N-1].f[m+F]||0,17>z&&(U=[]);var Ja=b[p.i[16]],Ka=p.i[17]/512,La=2**(p.i[18]-9)/D,Ma=p.i[19],wa=p.i[20],Na=.00308*p.i[21],Oa=1-p.i[22]/255,aa=1E-5*p.i[23],Pa=p.i[24]/32,Qa=p.i[25]/512,Ra=2*S*2**(p.i[26]-9)/D,xa=p.i[27]/255,ba=p.i[28]*D&-2;z=(k*F+m)*D;for(h=0;4>h;++h)if(c=N?p.c[N-1].n[m+h*F]:0){if(!U[c]){var n=U;var x=c;var ya=J=void 0,V,G,r=p,za=c,Sa=b[r.i[0]],Ta=r.i[1],Ua=r.i[3]/32,Va=b[r.i[4]],Wa=r.i[5],Xa=r.i[8]/32,Aa=r.i[9],K=r.i[10]*r.i[10]*4,W=r.i[11]*
r.i[11]*4,ca=r.i[12]*r.i[12]*4,Ya=1/ca,Za=-r.i[13]/16,O=r.i[14],$a=D*2**(2-r.i[15]),Ba=new Int32Array(K+W+ca),Ca=0,Da=0;for(V=G=0;G<K+W+ca;G++,V++){0<=V&&(O=O>>8|(O&255)<<4,V-=$a,ya=.004*2**((za+(O&15)+r.i[2]-128-128)/12),J=.004*2**((za+(O&15)+r.i[6]-128-128)/12)*(1+8E-4*r.i[7]));var H=1;G<K?H=G/K:G>=K+W&&(H=(G-K-W)*Ya,H=(1-H)*3**(Za*H));Ca+=ya*H**Ua;var da=Sa(Ca)*Ta;Da+=J*H**Xa;da+=Va(Da)*Wa;Aa&&(da+=(2*Math.random()-1)*Aa);Ba[G]=80*da*H|0}n[x]=Ba}x=U[c];c=0;for(n=2*z;c<x.length;c++,n+=2)B[n]+=x[c]}for(c=
0;c<D;c++)h=2*(z+c),n=B[h],x=Na,Ma&&(x*=Ja(La*h)*Ka+.5),x=1.5*Math.sin(x),C+=x*q,n=Oa*(n-q)-C,q+=x*n,n=3==wa?q:1==wa?n:C,aa&&(n*=aa,n=1>n?-1<n?a(.25*n):-1:1,n/=aa),n*=Pa,x=Math.sin(Ra*h)*Qa+.5,J=n*(1-x),n*=x,h>=ba&&(J+=B[h-ba+1]*xa,n+=B[h-ba]*xa),B[h]=J|0,B[h+1]=n|0,u[h]+=J|0,u[h+1]+=n|0}}g++;return g/d.nc};this.createAudioBuffer=function(c){c=c.createBuffer(2,l/2,44100);for(var k=0;2>k;k++)for(var m=c.getChannelData(k),h=k;h<l;h+=2)m[h>>1]=u[h]/65536;return c};this.c=function(){var c=44+2*l-8,k=
c-36,m=new Uint8Array(44+2*l);m.set([82,73,70,70,c&255,c>>8&255,c>>16&255,c>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,k&255,k>>8&255,k>>16&255,k>>24&255]);c=0;for(k=44;c<l;++c){var h=u[c];h=-32767>h?-32767:32767<h?32767:h;m[k++]=h&255;m[k++]=h>>8&255}return m};this.cpy=function(c,k,m){for(var h=0;h<k;h++)m[h]=u[2*c+2*h]/32768}};for(Y.i({s:[{i:[2,100,128,0,3,201,128,0,0,0,0,24,15,0,0,0,0,57,6,1,2,193,0,2,35,147,6,121,6],p:[1,2,3,4,6,2,3,4,1,2,
3,6,2,2],c:[{n:[111,,123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,111,,123,,137,,139],f:[]},{n:[111,111,123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,139,,111,,123,,125,,142],f:[]},{n:[109,,121,,133,,109,,121,,133,,109,,121,,135,,109,,121,,135,,109,,121,,135,,137],f:[]},{n:[104,104,116,,128,,116,,104,104,116,,128,,128,,104,104,116,,116,,104,,106,118,118,106,121,133,133,121],f:[]},{n:[103,,115,,127,,103,,115,,127,,103,,115,,113,,101,,125,,113,,101,,125,,113,,118],f:[]},{n:[111,111,
123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,139,,123,,140,,152,,142,,,,,,,,,,,,,,,,144,,,,,,,,145,,,,147],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,0,24,17,0,0,0,0,57,6,1,2,193,0,0,32,147,6,121,6],p:[,,1,,1,,1],c:[{n:[156,154,,149],f:[]}]},{i:[0,255,116,64,0,255,116,0,64,0,4,6,35,0,0,0,0,0,0,0,2,14,0,0,32,0,0,0,0],p:[,,,,1,1,1,1,1],c:[{n:[135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,60,4,10,34,0,0,0,0,187,5,0,1,239,135,
0,32,108,5,16,4],p:[,,,,1,1,1,1,1,1,,,1,1,1],c:[{n:[,,135,,,,135,,,,135,,,,135,,,,135,,,,135,,,,135,,,135,135],f:[]}]}],rl:5703,pl:32,ep:14,nc:4});1>Y.g(););var qa=0;onclick=()=>{onclick=null;I.style.cursor="none";I.requestFullscreen();var a=new AudioContext({sampleRate:44100}),b=a.createScriptProcessor(4096,0,1);b.connect(a.destination);b.onaudioprocess=Ha;requestAnimationFrame(va)}})();
